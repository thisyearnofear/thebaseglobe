import Colors from"../utils/Colors";import game from"../../game";export default class Pilot{constructor(e="human"){switch(this.mesh=new THREE.Object3D,this.angleHairs=0,this.pilotType=e,e){case"frog":this.createFrogPilot();break;case"nouns":this.createNounsPilot();break;default:this.createHumanPilot()}}createHumanPilot(){this.mesh=new THREE.Object3D,this.angleHairs=0;var e=new THREE.BoxGeometry(15,15,15),o=new THREE.MeshPhongMaterial({color:Colors.brown,flatShading:!0}),t=new THREE.Mesh(e,o);t.position.set(2,-12,0),this.mesh.add(t);var s=new THREE.BoxGeometry(10,10,10),n=new THREE.MeshLambertMaterial({color:Colors.pink}),a=new THREE.Mesh(s,n);this.mesh.add(a);var i=new THREE.BoxGeometry(4,4,4),r=new THREE.MeshLambertMaterial({color:Colors.brown}),h=new THREE.Mesh(i,r);h.geometry.applyMatrix4((new THREE.Matrix4).makeTranslation(0,2,0));var E=new THREE.Object3D;this.hairsTop=new THREE.Object3D;for(var l=0;l<12;l++){var d=h.clone(),T=l%3,M=Math.floor(l/3);d.position.set(4*M-4,0,4*T-4),d.geometry.applyMatrix4((new THREE.Matrix4).makeScale(1,1,1)),this.hairsTop.add(d)}E.add(this.hairsTop);var H=new THREE.BoxGeometry(12,4,2);H.applyMatrix4((new THREE.Matrix4).makeTranslation(-6,0,0));var c=new THREE.Mesh(H,r),w=c.clone();c.position.set(8,-2,6),w.position.set(8,-2,-6),E.add(c),E.add(w);var R=new THREE.BoxGeometry(2,8,10),m=new THREE.Mesh(R,r);m.position.set(-1,-4,0),E.add(m),E.position.set(-5,5,0),this.mesh.add(E);var p=new THREE.BoxGeometry(5,5,5),g=new THREE.MeshLambertMaterial({color:Colors.brown}),y=new THREE.Mesh(p,g);y.position.set(6,0,3);var P=y.clone();P.position.z=-y.position.z;var G=new THREE.BoxGeometry(11,1,11),x=new THREE.Mesh(G,g);this.mesh.add(y),this.mesh.add(P),this.mesh.add(x);var C=new THREE.BoxGeometry(2,3,2),f=new THREE.Mesh(C,n);f.position.set(0,0,-6);var S=f.clone();S.position.set(0,0,6),this.mesh.add(f),this.mesh.add(S)}createFrogPilot(){const e=new THREE.SphereGeometry(7.5,32,32);!function(e){const o=e.attributes.position.array;for(let e=0;e<o.length;e+=3){const t=.2*(Math.random()-.5);o[e]+=t,o[e+1]+=t,o[e+2]+=t}e.attributes.position.needsUpdate=!0,e.computeVertexNormals()}(e);const o=new THREE.MeshPhongMaterial({color:Colors.green,flatShading:!1,shininess:30}),t=new THREE.Mesh(e,o);this.mesh.add(t);const s=new THREE.SphereGeometry(2,32,32),n=new THREE.MeshPhongMaterial({color:Colors.white,flatShading:!1,shininess:100}),a=new THREE.Mesh(s,n);a.position.set(3,4,4),this.mesh.add(a);const i=a.clone();i.position.set(3,4,-4),this.mesh.add(i);const r=new THREE.SphereGeometry(1,32,32),h=new THREE.MeshPhongMaterial({color:Colors.black,flatShading:!1,shininess:100}),E=new THREE.Mesh(r,h);E.position.set(4,4,4),this.mesh.add(E);const l=E.clone();l.position.set(4,4,-4),this.mesh.add(l);const d=new THREE.Shape;d.moveTo(-3,0),d.quadraticCurveTo(0,-2,3,0);const T=new THREE.ShapeGeometry(d),M=new THREE.MeshPhongMaterial({color:Colors.darkGreen,side:THREE.DoubleSide}),H=new THREE.Mesh(T,M);H.position.set(3,-2,0),H.rotation.x=.5*Math.PI,this.mesh.add(H);const c=new THREE.BoxGeometry(1,.5,4),w=new THREE.MeshPhongMaterial({color:Colors.red,flatShading:!1}),R=new THREE.Mesh(c,w);R.position.set(3,-2,2),R.rotation.x=.25*Math.PI,this.mesh.add(R);const m=new THREE.Shape;m.moveTo(-1.5,0),m.lineTo(-.5,2),m.lineTo(.5,2),m.lineTo(1.5,0),m.lineTo(-1.5,0);const p=new THREE.ShapeGeometry(m),g=new THREE.MeshPhongMaterial({color:Colors.darkGreen,side:THREE.DoubleSide,flatShading:!1}),y=[{x:-3,y:-7,z:3},{x:3,y:-7,z:3},{x:-3,y:-7,z:-3},{x:3,y:-7,z:-3}];y.forEach((e=>{const o=new THREE.Mesh(p,g);o.position.set(e.x,e.y,e.z),o.rotation.x=.5*Math.PI,this.mesh.add(o)}));const P=new THREE.SphereGeometry(3,32,16,0,2*Math.PI,0,.5*Math.PI),G=new THREE.MeshPhongMaterial({color:Colors.lightGreen,flatShading:!1,transparent:!0,opacity:.7}),x=new THREE.Mesh(P,G);x.position.set(0,-5,6),x.rotation.x=Math.PI,this.mesh.add(x);const C=new THREE.Group,f=new THREE.CylinderGeometry(6,7,12,32),S=new THREE.MeshPhongMaterial({color:Colors.black,flatShading:!0}),u=new THREE.Mesh(f,S);u.position.set(0,6,0),C.add(u);const b=new THREE.TorusGeometry(6.5,1,16,100),v=new THREE.MeshPhongMaterial({color:Colors.gold,flatShading:!0}),B=new THREE.Mesh(b,v);B.position.set(0,1,0),B.rotation.x=.5*Math.PI,C.add(B);const I=new THREE.BoxGeometry(4,6,.1),k=new THREE.MeshPhongMaterial({color:Colors.white,flatShading:!0}),z=new THREE.Mesh(I,k);z.position.set(4,4,0),z.rotation.z=Math.PI/12,C.add(z);const D=new THREE.Shape;D.moveTo(0,0),D.bezierCurveTo(0,-1,-1,-1,-1,0),D.bezierCurveTo(-1,1,0,1,0,2),D.bezierCurveTo(0,1,1,1,1,0),D.bezierCurveTo(1,-1,0,-1,0,0);const L=new THREE.ShapeGeometry(D),j=new THREE.MeshPhongMaterial({color:Colors.red,flatShading:!0}),O=new THREE.Mesh(L,j);O.scale.set(1,1,1),O.position.set(4,4,.1),C.add(O),C.position.set(0,10,0),C.scale.set(1.5,1.5,1.5),this.mesh.add(C);const N=new THREE.Group,F=new THREE.BoxGeometry(3,1,.5),q=new THREE.MeshPhongMaterial({color:Colors.red,flatShading:!0}),A=new THREE.Mesh(F,q);A.position.set(-1,0,0),A.rotation.z=Math.PI/6;const U=A.clone();U.position.set(1,0,0),U.rotation.z=-Math.PI/6;const V=new THREE.Mesh(new THREE.BoxGeometry(.5,.5,.5),q);N.add(A,U,V),N.position.set(3,-3,6),this.mesh.add(N);const J=new THREE.CircleGeometry(.3,32),K=new THREE.MeshPhongMaterial({color:Colors.darkGreen,flatShading:!0});for(let e=0;e<20;e++){const e=new THREE.Mesh(J,K),o=Math.random()*Math.PI*2,t=Math.random()*Math.PI,s=7.5*Math.sin(t)*Math.cos(o),n=7.5*Math.sin(t)*Math.sin(o),a=7.5*Math.cos(t);e.position.set(s,n,a),e.lookAt(0,0,0),this.mesh.add(e)}new THREE.CylinderGeometry(.5,.5,3,32),new THREE.MeshPhongMaterial({color:Colors.green,flatShading:!0});const Q=new THREE.SphereGeometry(.8,32,32),W=new THREE.MeshPhongMaterial({color:Colors.darkGreen,flatShading:!0});y.forEach((e=>{const o=new THREE.Mesh(Q,W);o.position.set(e.x,e.y-1.5,e.z),o.scale.set(1,.5,1.5),this.mesh.add(o)}))}createNounsPilot(){const e=new THREE.BoxGeometry(15,15,15),o=new THREE.MeshPhongMaterial({color:Colors.yellow,flatShading:!0}),t=new THREE.Mesh(e,o);this.mesh.add(t);const s=new THREE.BoxGeometry(16,6,1),n=new THREE.MeshPhongMaterial({color:Colors.black,flatShading:!0}),a=new THREE.Mesh(s,n);a.position.set(0,2,7.5),this.mesh.add(a);const i=new THREE.TorusGeometry(3,1,16,100,Math.PI),r=new THREE.MeshPhongMaterial({color:Colors.black,flatShading:!0}),h=new THREE.Mesh(i,r);h.position.set(0,-2,7.5),h.rotation.x=Math.PI,this.mesh.add(h),this.addHyperLargeGlasses()}addHyperLargeGlasses(){const e=new THREE.Group,o=new THREE.BoxGeometry(60,20,2),t=new THREE.MeshPhongMaterial({color:Colors.yellow}),s=new THREE.Mesh(o,t);s.position.set(0,5,12),e.add(s);const n=new THREE.BoxGeometry(24,16,1),a=new THREE.MeshPhongMaterial({color:65535,transparent:!0,opacity:.7}),i=new THREE.Mesh(n,a);i.position.set(-15,5,13),e.add(i);const r=i.clone();r.position.set(15,5,13),e.add(r);const h=new THREE.BoxGeometry(20,2,1),E=new THREE.MeshPhongMaterial({color:Colors.yellow}),l=new THREE.Mesh(h,E);l.position.set(-30,5,9),l.rotation.y=Math.PI/6,e.add(l);const d=l.clone();d.position.set(30,5,9),d.rotation.y=-Math.PI/6,e.add(d),e.scale.set(1.5,1.5,1.5),e.position.set(0,4,5),this.mesh.add(e)}updateHairs(e){if("human"===this.pilotType){for(var o=this.hairsTop.children,t=o.length,s=0;s<t;s++)o[s].scale.y=.75+.25*Math.cos(this.angleHairs+s/3);this.angleHairs+=game.speed*e*40}}}