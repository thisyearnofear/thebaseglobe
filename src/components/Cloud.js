export default class RainbowCloud{constructor(){this.mesh=new THREE.Object3D;const t=new THREE.BoxGeometry(20,20,20);this.rainbowColors=[16711680,16744192,16776960,65280,255,9109759];const o=5+Math.floor(3*Math.random());for(let s=0;s<o;s++){const o=new THREE.MeshPhongMaterial({color:this.rainbowColors[s%this.rainbowColors.length],emissive:this.rainbowColors[s%this.rainbowColors.length],emissiveIntensity:.5,shininess:100}),n=new THREE.Mesh(t.clone(),o);n.position.x=12*s,n.position.y=10*Math.random(),n.position.z=10*Math.random(),n.rotation.y=Math.random()*Math.PI*2,n.rotation.z=Math.random()*Math.PI*2;const e=.8+.5*Math.random();n.scale.set(e,e,e),this.mesh.add(n),n.castShadow=!0,n.receiveShadow=!0;const i=new THREE.MeshBasicMaterial({color:this.rainbowColors[s%this.rainbowColors.length],transparent:!0,opacity:.5}),a=new THREE.Mesh(t.clone(),i);a.scale.multiplyScalar(1.2),n.add(a)}const s=new THREE.PointLight(16777215,1,100);s.position.set(6*o,5,5),this.mesh.add(s)}tick(t){const o=this.mesh.children.length;for(let t=0;t<o;t++){const o=this.mesh.children[t];if(o instanceof THREE.Mesh){o.rotation.y+=.02*Math.random()*(t+1),o.rotation.z+=.03*Math.random()*(t+1);const s=(.001*Date.now()+.1*t)%1,n=(new THREE.Color).setHSL(s,1,.5);o.material.color.set(n),o.material.emissive.set(n),o.children[0]&&o.children[0].material.color.set(n);const e=.8+.5*Math.random(),i=.1*Math.sin(.005*Date.now()+t)+1;o.scale.set(e*i,e*i,e*i)}}const s=this.mesh.children[this.mesh.children.length-1];s instanceof THREE.PointLight&&(s.intensity=1+.5*Math.sin(.005*Date.now()))}}